<!DOCTYPE html>
<html>

<head>
    <title>Amazon Clone</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- NAVBAR -->
    <div class="navbar">
        <h2>amazon</h2>

        <input type="text" id="search" placeholder="Search Amazon">

        <!-- LOGIN AREA -->
        <span id="userDisplay"></span>
        <button id="loginBtn">Login</button>
        <button id="logoutBtn" style="display:none;">Logout</button>

        <div class="cart" onclick="window.location='cart.html'">üõí Cart (0)</div>
        <div class="wishlist" onclick="window.location='wishlist.html'">‚ù§Ô∏è Wishlist</div>
        <div class="orders" onclick="window.location='order-history.html'">üì¶ Orders</div>
    </div>

    <!-- CATEGORY BAR -->
    <div class="menu">
        <span>‚ò∞ All</span>
        <span>Today's Deals</span>
        <span>Prime</span>
        <span>Fashion</span>
        <span>Electronics</span>
        <span>Home</span>
    </div>

    <!-- BANNER -->
    <div class="banner">
        <img id="slide" src="https://picsum.photos/1200/350?1">
    </div>

    <!-- PRODUCTS -->
    <div class="products">

        <!-- HEADPHONES -->
        <div class="card" data-name="Headphones" data-price="1500"
            data-img="https://images.pexels.com/photos/3394650/pexels-photo-3394650.jpeg">
            <img src="https://images.pexels.com/photos/3394650/pexels-photo-3394650.jpeg">
            <h3>Headphones</h3>
            <p>‚Çπ1500</p>
            <button class="add">Add to Cart</button>
            <button class="wishlist-btn">‚ù§Ô∏è Wishlist</button>
        </div>

        <!-- SHOES -->
        <div class="card" data-name="Shoes" data-price="2200"
            data-img="https://images.pexels.com/photos/2731977/pexels-photo-2731977.jpeg">
            <img src="https://images.pexels.com/photos/2731977/pexels-photo-2731977.jpeg">
            <h3>Shoes</h3>
            <p>‚Çπ2200</p>
            <button class="add">Add to Cart</button>
            <button class="wishlist-btn">‚ù§Ô∏è Wishlist</button>
        </div>

        <!-- WATCH -->
        <div class="card" data-name="Watch" data-price="3000"
            data-img="https://images.pexels.com/photos/14419584/pexels-photo-14419584.jpeg">
            <img src="https://images.pexels.com/photos/14419584/pexels-photo-14419584.jpeg">
            <h3>Watch</h3>
            <p>‚Çπ3000</p>
            <button class="add">Add to Cart</button>
            <button class="wishlist-btn">‚ù§Ô∏è Wishlist</button>
        </div>

    </div>

    <script>

        /* ================= LOGIN SYSTEM ================= */

        const loginBtn = document.getElementById("loginBtn");
        const logoutBtn = document.getElementById("logoutBtn");
        const userDisplay = document.getElementById("userDisplay");

        function updateUserDisplay() {
            const username = localStorage.getItem("username");

            if (username) {
                userDisplay.innerText = "Hi, " + username;
                loginBtn.style.display = "none";
                logoutBtn.style.display = "inline-block";
            } else {
                userDisplay.innerText = "";
                loginBtn.style.display = "inline-block";
                logoutBtn.style.display = "none";
            }
        }

        loginBtn.addEventListener("click", () => {
            const name = prompt("Enter your name:");
            if (name) {
                localStorage.setItem("username", name);
                updateUserDisplay();
            }
        });

        logoutBtn.addEventListener("click", () => {
            localStorage.removeItem("username");
            updateUserDisplay();
        });

        updateUserDisplay();


        /* ================= PRODUCTS ================= */

        document.querySelectorAll('.products .card').forEach((card) => {

            const name = card.getAttribute('data-name');
            const price = card.getAttribute('data-price');
            const img = card.getAttribute('data-img');

            // ADD TO CART
            card.querySelector('.add').addEventListener('click', () => {
                let cart = JSON.parse(localStorage.getItem('cart')) || [];
                cart.push({ name, price, img, qty: 1 });
                localStorage.setItem('cart', JSON.stringify(cart));
                alert('‚úÖ Added to Cart');
                updateCartCount();
            });

            // WISHLIST
            card.querySelector('.wishlist-btn').addEventListener('click', () => {
                let wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                wishlist.push({ name, price, img });
                localStorage.setItem('wishlist', JSON.stringify(wishlist));
                alert('‚ù§Ô∏è Added to Wishlist');
            });
        });


        /* ================= CART COUNT ================= */

        function updateCartCount() {
            const cartCount = document.querySelector('.cart');
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            cartCount.innerText = `üõí Cart (${cart.length})`;
        }

        updateCartCount();


        /* ================= SEARCH ================= */

        document.getElementById('search').addEventListener('input', function () {
            const query = this.value.toLowerCase();

            document.querySelectorAll('.products .card').forEach(card => {
                const name = card.getAttribute('data-name').toLowerCase();
                card.style.display = name.includes(query) ? 'block' : 'none';
            });
        });

    </script>

</body>

</html>